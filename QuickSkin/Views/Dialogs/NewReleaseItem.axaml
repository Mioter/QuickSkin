<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:dialogs="clr-namespace:QuickSkin.ViewModels.Dialogs"
             x:DataType="dialogs:NewReleaseItemViewModel"
             x:Class="QuickSkin.Views.Dialogs.NewReleaseItem">

    <Grid RowDefinitions="Auto,*,Auto" Margin="20" RowSpacing="20">

        <StackPanel Orientation="Horizontal" Spacing="10">

            <PathIcon
                Height="20" Width="20"
                Data="{StaticResource SemiIconPlusCircle}"
                Foreground="{DynamicResource SemiGreen5}" />

            <TextBlock Text="新建项目" FontWeight="Bold" FontSize="16" VerticalAlignment="Center" />

        </StackPanel>

        <DockPanel Grid.Row="1" Width="500" HorizontalSpacing="20" VerticalSpacing="10">

            <DockPanel.Styles>

                <Style Selector="DockPanel StackPanel">
                    <Setter Property="Spacing" Value="5" />
                </Style>

            </DockPanel.Styles>

            <StackPanel>

                <Button Height="180"
                        Width="180"
                        Padding="0"
                        Command="{Binding SetCoverCommand}"
                        Background="#F5F5F6"
                        CornerRadius="12"
                        Classes.IconIsNull="{Binding Icon,Converter={x:Static ObjectConverters.IsNull}}"
                        Classes.IconNotNull="{Binding Icon,Converter={x:Static ObjectConverters.IsNotNull}}">

                    <Button.Styles>

                        <Style Selector="Button.IconIsNull">
                            <Setter Property="Foreground" Value="{DynamicResource SemiGrey2}" />
                            <Setter Property="Content">
                                <Template>
                                    <PathIcon Foreground="{DynamicResource SemiGrey2}" Margin="50"
                                              Data="{StaticResource SemiIconImage}" />
                                </Template>
                            </Setter>
                        </Style>

                        <Style Selector="Button.IconNotNull">
                            <Setter Property="Content">
                                <Template>
                                    <Border CornerRadius="{Binding $parent[Button].CornerRadius}" ClipToBounds="True">
                                        <Image Source="{Binding Icon}" />
                                    </Border>
                                </Template>
                            </Setter>
                        </Style>

                    </Button.Styles>

                </Button>

                <StackPanel VerticalAlignment="Bottom">
                    <TextBlock Text="标签 :"
                               FontWeight="Bold" />
                    <ComboBox HorizontalAlignment="Stretch" />
                </StackPanel>

            </StackPanel>

            <StackPanel DockPanel.Dock="Top">
                <TextBlock Text="名称 :"
                           FontWeight="Bold" />
                <TextBox Name="NameTextBlock" CornerRadius="8" Text="{Binding Name}" />
            </StackPanel>

            <StackPanel DockPanel.Dock="Bottom">
                <TextBlock Text="描述 :" Classes="Tertiary" FontWeight="Bold" />
                <TextBox Height="150"
                         CornerRadius="8"
                         TextWrapping="Wrap"
                         VerticalContentAlignment="Top"
                         Padding="8,5"
                         Text="{Binding Description}" />
            </StackPanel>

        </DockPanel>

        <StackPanel Spacing="20" HorizontalAlignment="Right" Grid.Row="2" Orientation="Horizontal">

            <StackPanel.Styles>
                <Style Selector="Button">
                    <Setter Property="CornerRadius" Value="8" />
                </Style>
            </StackPanel.Styles>

            <Button Content="取消"
                    Theme="{DynamicResource OutlineButton}"
                    Command="{Binding CancelCommand}" />

            <Button Content="确认"
                    IsEnabled="{Binding !HasErrors}"
                    Command="{Binding OkCommand}"
                    Theme="{DynamicResource SolidButton}" />

        </StackPanel>

    </Grid>

</UserControl>